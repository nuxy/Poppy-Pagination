<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" type="text/css" href="https://mbrooks.info/readme.min.css">

  <title>README</title>
</head>
<body>

<a href="https://github.com/nuxy/Poppy-Pagination"><img class="forkme_ribbon" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub"></a>

<h1>Poppy Pagination <a href="https://travis-ci.org/nuxy/Poppy-Pagination"><img class="build_status" src="https://camo.githubusercontent.com/e58db8426ea8b9995a24b5c8a06605514ec940df/68747470733a2f2f7472617669732d63692e6f72672f6e7578792f546964792d5461626c652e7376673f6272616e63683d6d6173746572" alt="Build Status"></a></h1>

<p>A easy way to generate next and last page buttons, breadcrumb links, and per-page result totals, as HTML.</p>

<img class="preview" src="preview.gif">

<h2>Features</h2>

<ul>
  <li>Extensible HTML/CSS interface.</li>
  <li>Compatible with Firefox 3.6+, Chrome, Safari 5+, Opera, and Internet Explorer 7+ web browsers.</li>
  <li>Compatible with iOS and Android device web browsers.</li>
  <li>Easy to set-up and customize.</li>
  <li>Can be used to wrap any pre-existing set of results.</li>
  <li>Customizable callback function for post-processing link events.</li>
  <li>Fast and lightweight (jQuery plug-in *only 5.1 kB)</li>
</ul>

<p>Check out the <a href="demo.html">demo</a> provided with this package.</p>

<a name="install"></a>

<h2>Installation</h2>

<p>This package can be easily installed using <a href="http://bower.io">Bower</a>.</p>

<pre>$ bower install poppy-pagination</pre>

<p>Manual install:</p>

<ol>
  <li>Download the latest <a href="https://github.com/nuxy/Poppy-Pagination/tags">sources</a> to your computer using a web browser.</li>
  <li>Extract the contents of the <em>.zip</em> into a folder on your local computer.</li>
  <li>Upload the folder with the <strong>following files</strong> to your web site.</li>
</ol>

<table border="1">
  <tr>
    <th>Filename</th>
    <th>Role</th>
  </tr>
  <tr>
    <td>poppy-pagination.min.js</td>
    <td>The main script to be included from within your HTML document.</td>
  </tr>
  <tr>
    <td>poppy-pagination.min.css</td>
    <td>This style sheet that defines the "look & feel" of the results.</td>
  </tr>
</table>

<h2>Set-up</h2>

<p>It's as simple as defining the target element <code>#container</code> using the <a href="http://api.jquery.com/category/selectors">jQuery selector</a> and defining page result options.  An optional callback can also be defined for pre-processing result data.</p>

<pre>$(selector).PoppyPagination(<a href="#config"><em>config</em></a>, <a href="#callback"><em>callback</em></a>);</pre>

<h2>Source Code</h2>

<p>Add the following JavaScript/CSS between the <code>&lt;head&gt;&lt;/head&gt;</code> tags of your HTML document.</p>

<a name="examples"></a>

<h4>Use Example 1 - Output page elements</h4>

<pre data-language="html">&lt;script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"&gt;&lt;/script&gt;

&lt;script src="/path/to/poppy-pagination.min.js"&gt;&lt;/script&gt;
&lt;script&gt;
$(document).ready(function() {
  $('#container')
    .PoppyPagination({
      totalResults: 20,
      perPage:      5,
      startPage:    1
    }, doSomething);
  }
});
&lt;/script&gt;

&lt;link rel="stylesheet" type="text/css" href="/path/to/poppy-pagination.min.css"&gt;

..

&lt;div id="container"&gt;&lt;/div&gt;</pre>

<h4>Use Example 2 - Request remote data source, generate <a href="https://github.com/nuxy/Tidy-Table">Tidy-Table</a> results, and paginate</h4>

<pre>&lt;script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"&gt;&lt;/script&gt;

&lt;script src="/path/to/poppy-pagination.min.js"&gt;&lt;/script&gt;
&lt;script src="/path/to/tidy-table.min.js"&gt;&lt;/script&gt;
&lt;script&gt;
$(document).ready(function() {
  (function getResults(config) {

    /**
     * Get current page results from flatfile, or
     * API service (using SQL LIMIT/OFFSET & FOUND_ROWS)
     */
    var params = {
      count: config.perPage || 20
    };

    if (config) {

      // Calculate SQL OFFSET
      params.offest = config.start * config.limit - config.limit;
    }

    $.getJSON({
      url:  '/path/to/script',
      data: params,
      success: function(data) {
        var block = $('#container');

        // Remove existing data.
        block.TidyTable('destroy');

        // Create table elements.
        block.TidyTable({
          columnTitles: data.columns,
          columnValues: data.values
        });

        // Create pager elements.
        block.PoppyPagination({
          totalResults: 20,
          perPage:      5,
          startPage:    (config.start || 1),

          // Override UI language.
          uiText: {
            LAST_PAGE: 'Back',
            NEXT_PAGE: 'Next',
            RESULTS:   '%first through %last of %total results',
            VIEWING:   'Show'
          }
        }, getResults);
      });
    });
  })({});
&lt;/script&gt;

&lt;link rel="stylesheet" type="text/css" href="/path/to/poppy-pagination.min.css"&gt;
&lt;link rel="stylesheet" type="text/css" href="/path/to/tidy-table.min.css"&gt;

..

&lt;div id="container"&gt;&lt;/div&gt;</pre>

<a name="config"></a>

<h2>Configuration</h2>

<p>The following options can be passed to the plug-in main function as JSON</p>

<table border="1">
  <tr>
    <th>Option</th>
    <th>Description</th>
    <th>Default Value</th>
  </tr>
  <tr>
    <td>totalResults</td>
    <td>total number of results in data-set</td>
    <td>none</td>
  </tr>
  <tr>
    <td>perPage</td>
    <td>total number of results to output per page (optional)</td>
    <td>none</td>
  </tr>
  <tr>
    <td>startPage</td>
    <td>page number of first viewable result</td>
    <td>1</td>
  </tr>
  <tr>
    <td>uiText</td>
    <td>customize user interface text elements (optional)</td>
    <td><a href="#language">UI language</a></td>
  </tr>
</table>

<p>The <code>perPage</code> value is optional and is to be used in cases where you are processing a full data-set vs requesting as parts.  When this option is not provided a select menu will be created to allows the user to define the per-page result.</p>

<a name="language"></a>

<h2>Override UI language</h2>

<p>You can update the predefined language by defining <code>uiText</code> with the following values:</p>

<table border="1">
  <tr>
    <th>Name</th>
    <th>Default Value</th>
  </tr>
  <tr>
    <td>LAST_PAGE</td>
    <td>Last Page</td>
  </tr>
  <tr>
    <td>NEXT_PAGE</td>
    <td>Next Page</td>
  </tr>
  <tr>
    <td>RESULTS</td>
    <td><a href="#tokens">%first</a> - <a href="#tokens">%last</a> of <a href="#tokens">%total</a> results</td>
  </tr>
  <tr>
    <td>VIEWING</td>
    <td>Viewing</td>
  </tr>
</table>

<a name="callback"></a>

<h2>Callback Processing</h2>

<p>When a callback function is defined a response object is returned.  The values of this object reflect the current page results at the time of the event.  The following code corresponds to the <a href="#examples">examples</a> provided above.  This object can be used to query new data from server-side application, or to pre-process data of returned results.  For example, parsing object data so that only specific page results are visible.</p>

<pre>function doSomething(obj) {

  // Post-process event
  if (obj.start == 2) {
    alert('page 2');
  }
  else
  if (obj.first == 4) {
    alert('first result is 4');
  }
  else
  if (obj.last == 7) {
    alert('last result is 7');
  }
}</pre>

<a name="tokens"></a>

<p>Object values can be accessed as a token using the <em>%name</em> format when overriding UI language text.</p>

<table border="1">
  <tr>
    <th>Name</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>total</td>
    <td>total number of results in data-set</td>
  </tr>
  <tr>
    <td>pages</td>
    <td>total number of pages to output</td>
  </tr>
  <tr>
    <td>limit</td>
    <td>total number of results to output per page</td>
  </tr>
  <tr>
    <td>start</td>
    <td>page number of first viewable result</td>
  </tr>
  <tr>
    <td>first</td>
    <td>number of first viewable result</td>
  </tr>
  <tr>
    <td>last</td>
    <td>number of last viewable result</td>
  </tr>
</table>

<h2>jQuery Support</h2>

<p>In order to support older web browsers, specifically Internet Explorer 7, this package requires <a href="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js">jQuery 1.8.3</a>.  Furthermore, jQuery has recently dropped support for IE8 in version 2, so if there is no compelling reason to support these two web browsers it is recommended that you upgrade to the latest version of jQuery.  If you still need to support IE8 please upgrade to <a href="http://blog.jquery.com/2012/06/28/jquery-core-version-1-9-and-beyond/">jQuery 1.9+</a>.</p>

<h2>Functional Testing</h2>

<p>This package has been preconfigured to support <a href="http://qunitjs.com">QUnit</a> headless testing using <a href="http://www.travis-ci.org">Travis-CI</a>.  If you plan on using another integration tool you will have to create a custom project that combines the use of <em>QUnit</em> and <a href="http://www.phantomjs.org">PhantomJS</a> plugins.  If headless testing in not available you can manually run <code>test.html</code> in your web browser.</p>

<h2>Releases</h2>

<p>I have included with this package a <a href="http://dean.edwards.name/packer">packed</a> version (3.3 kB) and developers version (unpacked 9.1 kB)</p>

<p>You can always find the latest updates within this projects repository.</p>

<h2>Code Repository</h2>

<p>This projects repository is currently hosted on <a href="https://github.com">Github</a></p>

<pre>https://github.com/nuxy/Poppy-Pagination</pre>

<h2>Maintainer</h2>

<p>For feedback, bug reports, or other comments, feel free to contact me at: <strong>devel</strong> <em>at</em> <strong>mbrooks</strong> <em>dot</em> <strong>info</strong></p>

<h2>License and Warranty</h2>

<p>This package is distributed in the hope that it will be useful, but without any warranty; without even the implied warranty of merchantability or fitness for a particular purpose.</p>

<p>Poppy Pagination is provided under the terms of the <a href="http://www.opensource.org/licenses/mit-license.php">MIT license</a>.</p>

<p>Poppy Pagination &#169;2012-2015 <a href="https://mbrooks.info">Marc S. Brooks</a></p>

</body>
</html>
